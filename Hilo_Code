"""
Name: Daniel Greenwell
Class: CSE 210
Assignment: Abstraction: Teach One Another
"""
import random

class Score:
    def __init__(self):
        self.player_score = 300
    
    def display_score(self):
        print(f"Your score is: {self.player_score}")

    def adjust_score(self, value):
        self.player_score += value
        return self.player_score

class Hilo:
    def __init__(self):
        self.current_card = random.randint(1, 13)

    def display_card(self):
        print(f"Your card is: {self.current_card}")

    def new_card(self, guess):
        self.new_card = random.randint(1, 13)
        
        if self.new_card == self.current_card:
            self.new_card = random.randint(1, 13)

        print(f"Next card was: {self.new_card}")

        if guess == 'h':
            if self.new_card > self.current_card:
                self.current_card = self.new_card
                return 100
            else:
                self.current_card = self.new_card
                return -75
        elif guess == 'l':
            if self.new_card < self.current_card:
                self.current_card = self.new_card
                return 100
            else:
                self.current_card = self.new_card
                return -75

def main():
    hilo = Hilo()
    score = Score()
    again = ""

    while again != 'n':
        hilo.display_card()
        guess = str(input("Higher or Lower? [h/l] "))
        guess = guess.lower()
        score.adjust_score(hilo.new_card(guess))
        
        if score.player_score <= 0:
            break
        
        score.display_score()
        again = str(input("Play Again? [y/n] "))
        again = again.lower()
        print("")

if __name__ == "__main__":
    main()